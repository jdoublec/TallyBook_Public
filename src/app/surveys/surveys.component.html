<!-- Mobile Resolution -->
<div *ngIf="!readOnlyAccess">
    <div *ngIf="mobileResolution">
        <div class="col-12 col-xl-12 form-group">  
            <style>
                    label {
                        color: lightgray;
                    }
                    input {
                        background-color: lightgray;
                    }
            </style>
            <div class="row">                
                <div class="col-xl-12 form-group">
                    <div class="row">
                        <div class="col-6 col-sm-6 form-group"> 
                            <label>{{ firstParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                id="md"
                                min="0"
                                placeholder="Survey Depth"
                                class="form-control"
                                #firstParamElem
                                [(ngModel)]="firstParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div class="col-6 col-sm-6 form-group">
                            <label>{{ secondParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                min="0"
                                id="inc"
                                class="form-control"
                                [(ngModel)]="secondParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div class="col-6 col-sm-6 form-group">
                            <label>{{ thirdParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                id="azm"
                                min="0"
                                class="form-control"
                                [(ngModel)]="thirdParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>TVD</label>
                            <input
                                position=sticky
                                type="number"
                                id="north"
                                min="0"
                                placeholder="tie-on TVD"
                                class="form-control"
                                [(ngModel)]="tvdValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>North</label>
                            <input
                                position=sticky
                                type="number"
                                id="north"
                                min="0"
                                placeholder="tie-on North"
                                class="form-control"
                                [(ngModel)]="northValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>East</label>
                            <input
                                position=sticky
                                type="number"
                                min="0"
                                placeholder="tie-on East"
                                id="east"
                                class="form-control"
                                [(ngModel)]="eastValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                    <!-- </div> -->
                    <!-- <div class="row"> -->
                        <!-- <div class="ml-3 form-group">         -->
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>VS Direction</label>
                            <input
                                position=sticky
                                type="number"
                                id="vs"
                                min="0"
                                placeholder="VS Direction"
                                class="form-control"
                                [(ngModel)]="vsDirectionValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>Northing</label>
                            <input
                                position=sticky
                                type="number"
                                id="northing"
                                min="0"
                                placeholder="Northing"
                                class="form-control"
                                [(ngModel)]="northingValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>Easting</label>
                            <input
                                position=sticky
                                type="number"
                                id="easting"
                                min="0"
                                placeholder="Easting"
                                class="form-control"
                                [(ngModel)]="eastingValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>Elevation</label>
                            <input
                                position=sticky
                                type="number"
                                id="elevation"
                                min="0"
                                placeholder="Elevation"
                                class="form-control"
                                [(ngModel)]="elevationValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <label>Ground Elevation</label>
                            <input
                                position=sticky
                                type="number"
                                id="groundElevation"
                                min="0"
                                placeholder="Ground Elevation"
                                class="form-control"
                                [(ngModel)]="groundElevationValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="!editTieOnMode ? 'col-6 col-sm-6 form-group' : 'd-none'">
                            <button 
                                style="margin-bottom: 0px;" 
                                class="btn btn-sm btn-success" 
                                type="button" 
                                (click)="onAddUpdateProject()"
                                [disabled]="!okToAddUpdate"
                                >{{ editMode ? 'Upd.' : 'Add' }}</button>
                                <a style="color: white; margin: 5px">|</a>
                            <button 
                                style="margin-bottom: 0px;" 
                                class="btn btn-sm btn-danger" 
                                type="button"
                                [disabled]="!editMode"
                                (click)=onDeleteSurvey()>Del</button>
                            <!-- <a style="color: white; margin: 5px">{{ editTieOnMode ? '|' : ''}}</a> -->
                            <div [className]="!editTieOnMode ? 'row' : ''" style="margin-bottom: 8px; margin-top: 8px;">
                                <button 
                                    style="margin-top: 0px; margin-left: 14px;" 
                                    class="btn btn-sm btn-primary" 
                                    type="button"
                                    (click)="onClearInput()">Clr</button>
                                    <a style="color: white; margin: 5px">|</a>
                                <!-- <button 
                                    style="margin-top: 0px;"  
                                    class="btn btn-sm btn-info" 
                                    type="button"
                                    (click)="scrollSurveysToBottom(true)">vvv</button> -->  
                                <div 
                                    class="btn-group"
                                    appDropdown
                                    #views="appDropdown">                  
                                    <button 
                                        style="margin-top: 0px;"  
                                        class="btn btn-sm btn-info" 
                                        type="button"
                                        data-toggle="dropdown" 
                                        role="button">Views</button>                                
                                    <ul style="border-color: whitesmoke"
                                        class="dropdown-menu bg-dark" 
                                        [ngClass]="{'show':views.isOpen}">
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('all')">All</a>
                                        </li>   
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('dls')">DLS</a>
                                        </li>      
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('motorOutput')">MY</a>
                                        </li>                                        
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('ne')">NE</a>
                                        </li>  
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('orientation')">Orient.</a>
                                        </li>
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="scrollSurveysToBottom(true)">Scroll</a>
                                        </li> 
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('tvd')">TVD</a>
                                        </li>                                       
                                        <li>
                                            <a style="cursor: pointer; color: white" 
                                            (click)="viewChanged('vs')">VS</a>
                                        </li>  
                                    </ul>
                                </div>
                            </div>
                        </div>       
                        <div [className]="editTieOnMode ? 'col-12 col-sm-12 form-group' : 'd-none'">
                            <button 
                                style="margin-bottom: 0px;" 
                                class="btn btn-sm btn-success" 
                                type="button" 
                                (click)="onAddUpdateProject()"
                                [disabled]="!okToAddUpdate"
                                >{{ editMode ? 'Upd.' : 'Add' }}</button>
                            <a style="color: white"> | </a>
                            <button 
                                style="margin-bottom: 0px;" 
                                class="btn btn-sm btn-danger" 
                                type="button"
                                [disabled]="!editMode"
                                (click)=onDeleteSurvey()>Delete</button>
                            <a style="color: white"> | </a>
                            <button 
                                style="margin-top: 0px" 
                                class="btn btn-sm btn-primary" 
                                type="button"
                                (click)="onClearInput()">Clear</button>
                            <a style="color: white"> | </a>
                            <button 
                                style="margin-top: 0px;"  
                                class="btn btn-sm btn-info" 
                                type="button"
                                (click)="scrollSurveysToBottom(true)">vvv</button>
                        </div>                                      
                    </div>                    
                </div>
            </div>
        </div>
    </div>
    <!-- Destop/Tablet Resolution -->
    <div *ngIf="!mobileResolution">
        <div class="col-12 col-xl-12 form-group">  
            <style>
                    label {
                        color: lightgray;
                    }
                    input {
                        background-color: lightgray;
                    }
            </style>
            <div class="row">                
                <div class="col-xl-6 form-group">
                    <div class="row">
                        <div class="col-12 col-sm-4 form-group">
                            <label>{{ firstParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                id="firstParam"
                                min="0"
                                class="form-control"
                                #firstParamElem
                                [(ngModel)]="firstParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div class="col-12 col-sm-4 form-group">
                            <label>{{ secondParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                min="0"
                                id="secondParam"
                                class="form-control"
                                [(ngModel)]="secondParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div class="col-12 col-sm-4 form-group">
                            <label>{{ thirdParamName }}</label>
                            <input
                                position=sticky
                                type="number"
                                id="thirdParam"
                                min="0"
                                class="form-control"
                                [(ngModel)]="thirdParam"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>TVD</label>
                            <input
                                position=sticky
                                type="number"
                                id="north"
                                min="0"
                                placeholder="tie-on TVD"
                                class="form-control"
                                [(ngModel)]="tvdValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>North</label>
                            <input
                                position=sticky
                                type="number"
                                id="north"
                                min="0"
                                placeholder="tie-on North"
                                class="form-control"
                                [(ngModel)]="northValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>East</label>
                            <input
                                position=sticky
                                type="number"
                                min="0"
                                placeholder="tie-on East"
                                id="east"
                                class="form-control"
                                [(ngModel)]="eastValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                    </div>
                    <div class="row">
                        <!-- <div class="ml-3 form-group">         -->
                        <div class="col-12 col-sm-12 form-group">
                            <button 
                                class="btn btn-sm btn-success" 
                                type="button" 
                                (click)="onAddUpdateProject()"
                                [disabled]="!okToAddUpdate"
                                >{{ !surveyMode ? 'Project' : editMode ? 'Update' : 'Add' }}
                            </button>
                            <div 
                                class="btn-group"
                                appDropdown
                                #r="appDropdown">        
                                <button 
                                    type="button"
                                    class="btn btn-sm btn-outline-light dropdown-toggle">
                                    <span class="caret"></span>
                                </button>
                                    <ul class="dropdown-menu bg-dark" style="color: lightgray" [ngClass]="{'show':r.isOpen}"> 
                                        <li><a (click)="onSurveyMode()"
                                            style="cursor: pointer;">Survey Mode</a></li>               
                                        <li><a (click)="onProjectMDIncAzm()"
                                            style="cursor: pointer;">MD, Inc, Azm</a></li>
                                        <li><a (click)="onProjectIncAzmTVD()"
                                                style="cursor: pointer;">Inc, Azm, TVD</a></li>
                                        <li><a (click)="onProjectMDDLSTF()"
                                                style="cursor: pointer;">MD, DLS, TF</a></li>
                                            <li><a (click)="onProjectCLDLSTF()"
                                                style="cursor: pointer;">CL, DLS, TF</a></li>
                                        <li><a (click)="onProjectCLBRTR()"
                                                style="cursor: pointer;">CL, BR, TR</a></li>
                                        <li><a (click)="onProjectCLIncAzm()"
                                            style="cursor: pointer;">CL, Inc, Azm</a></li>                        
                                    </ul>                    
                            </div> 
                            <a style="color: white"> | </a>
                            <button 
                                class="btn btn-sm btn-danger" 
                                type="button"
                                [disabled]="!editMode"
                                (click)=onDeleteSurvey()>Delete</button>
                            <a style="color: white"> | </a>
                            <button 
                                class="btn btn-sm btn-primary" 
                                type="button"
                                (click)="onClearInput()">Clear</button>
                            <a style="color: white"> | </a>
                                <button 
                                    class="btn btn-sm btn-primary" 
                                    type="button"
                                    (click)="onDeleteProjections()">Del Proj</button>
                            <a style="color: white"> | </a>
                            <button 
                                class="btn btn-sm btn-info" 
                                type="button"
                                (click)="scrollSurveysToBottom(true)">vvv</button>
                        </div>   
                    </div>
                </div>
            <!-- </div> -->
            <!-- <div class="row">                 -->                
                <!-- <div *ngIf="!editTieOnMode" class="col-xl-6 form-group"> -->
                <!-- <ng-template> -->
                    <!-- <app-projections></app-projections> -->
                <!-- </ng-template> -->
                <!-- </div> -->
                <div class="col-xl-6 form-group">
                    <div class="row">
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>VS Direction</label>
                            <input
                                position=sticky
                                type="number"
                                id="vs"
                                min="0"
                                placeholder="VS Direction"
                                class="form-control"
                                [(ngModel)]="vsDirectionValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>Northing</label>
                            <input
                                position=sticky
                                type="number"
                                id="norting"
                                min="0"
                                placeholder="Northing"
                                class="form-control"
                                [(ngModel)]="northingValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>Easting</label>
                            <input
                                position=sticky
                                type="number"
                                id="easting"
                                min="0"
                                placeholder="Easting"
                                class="form-control"
                                [(ngModel)]="eastingValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>Elevation</label>
                            <input
                                position=sticky
                                type="number"
                                id="elevation"
                                min="0"
                                placeholder="Elevation"
                                class="form-control"
                                [(ngModel)]="elevationValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                        <div [className]="editTieOnMode ? 'col-12 col-sm-4 form-group' : 'd-none'">
                            <label>Ground Elevation</label>
                            <input
                                position=sticky
                                type="number"
                                id="groundElevation"
                                min="0"
                                placeholder="Ground Elevation"
                                class="form-control"
                                [(ngModel)]="groundElevationValue"
                                (keyup)="onSurveyInputValueChanged()"
                                (keyup.enter)="onEnterKeyPressed()">
                        </div>
                    </div>                    
                </div>
            <!-- </div> -->
        </div>
    </div>
</div>

<div [className]="mobileResolution ? 'col-ml-12' : 'col-xl-12 form-group'">
    <div class="row">    
        <div class="col-sm-12 form-group">
            <div class=" table table-container bg-dark table-responsive"                 
                 (paste)="onPaste($event)">
                 <div class="inner-container" #scrollSurveys [ngStyle]="{'height.px': tableHeight}">                
                    <table class="table table-bordered table-sm">
                        <thead>
                            <tr>
                                <th [className]="tableView == 'all' ? '' : 'd-none'">Cnt</th>
                                <th>MD</th>
                                <th [className]="tableView != 'motorOutput' ? '' : 'd-none'">Inc</th>
                                <th [className]="tableView != 'motorOutput' ? '' : 'd-none'">Azm</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'tvd' ? '' : 'd-none'">TVD</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'ne' ? '' : 'd-none'">North</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'ne' ? '' : 'd-none'">East</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'vs' ? '' : 'd-none'">VS</th>
                                <th [className]="tableView == 'all' ? '' : 'd-none'">TF</th>
                                <th [className]="tableView == 'all' || 
                                                 tableView == 'dls' ? '' : 'd-none'">DLS</th>         
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">Dist To<br>Plan</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">ABPlan<br>+/-</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">RLPlan<br>+/-</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">TVD To<br>Plan</th>
                                <th [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">TF To<br>Plan</th>
                                <th [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">MY</th>
                                <th [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">Slide<br>Seen</th>
                                <th [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">Slide<br>TF</th>      
                                <th [className]="tableView == 'all' ? '' : 'd-none'">Elevation</th> 
                                <th [className]="tableView == 'all' ? '' : 'd-none'">Northing</th>
                                <th [className]="tableView == 'all' ? '' : 'd-none'">Easting</th>                             
                               
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                style="cursor: pointer; "
                                *ngFor="let survey of surveys; let i = index; let last = last"
                                (click)="onEditSurvey(i)"
                                [ngClass]="{'active': survey.md === selectedMD, 'bg-primary': survey.projection}">
                                <td [className]="tableView == 'all' ? '' : 'd-none'">{{ i }}</td> 
                                <td>{{ survey.md | formatDecimal }}</td>
                                <td [className]="tableView != 'motorOutput' ? '' : 'd-none'">{{ survey.inc | formatDecimal }}</td>
                                <td [className]="tableView != 'motorOutput' ? '' : 'd-none'">{{ survey.azm | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'tvd' ? '' : 'd-none'">{{ survey.tvd | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'ne' ? '' : 'd-none'">{{ survey.north | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'ne' ? '' : 'd-none'">{{ survey.east | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'vs' ? '' : 'd-none'">{{ survey.vs | formatDecimal }}</td>   
                                <td [className]="tableView == 'all' ? '' : 'd-none'">{{ survey.survTF | formatDecimal }}</td>                           
                                <td [className]="tableView == 'all' || 
                                                 tableView == 'dls' ? '' : 'd-none'">{{ survey.dls | formatDecimal }}</td>     
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">{{ survey.distPlan | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">{{ survey.abPlan | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">{{ survey.rlPlan | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">{{ survey.tvdToPlan | formatDecimal }}</td>
                                <td [className]="tableView == 'all' ||
                                                 tableView == 'orientation' ? '' : 'd-none'">{{ survey.tfToPlan | formatDecimal }}</td>
                                <td [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">{{ survey.motorOutput | formatDecimal }}</td>
                                <td style="white-space:pre-wrap; word-wrap:break-word" [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">{{ survey.slide }}</td>                                               
                                <td style="white-space:pre-wrap; word-wrap:break-word" [className]="tableView == 'all' || 
                                                 tableView == 'motorOutput' ? '' : 'd-none'">{{ survey.slideTF }}</td>  
                                <td [className]="tableView == 'all' ? '' : 'd-none'">{{ survey.elevation | formatDecimal }}</td> 
                                <td [className]="tableView == 'all' ? '' : 'd-none'">{{ survey.northing | formatDecimal }}</td> 
                                <td [className]="tableView == 'all' ? '' : 'd-none'">{{ survey.easting | formatDecimal }}</td>                                 
                                {{ last && !editMode ? scrollSurveysToBottom(survey.projection) : '' }}
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>      
    </div>
</div>
